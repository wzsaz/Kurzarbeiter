<mat-card>
  <h3 mat-subheader>Filter<span></span></h3>

  <mat-card-content>
    <form [formGroup]="form">

      <mat-form-field class="filter-field">
        <input type="text" matInput formControlName="firstName" [matAutocomplete]="firstNameAuto"
               placeholder="First name">
        <mat-autocomplete #firstNameAuto="matAutocomplete">
          @for (option of getFilteredOptions(firstNameOptions, form.value['firstName']); track option) {
            <mat-option [value]="option">{{ option }}</mat-option>
          }
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="filter-field">
        <input type="text" matInput formControlName="lastName" [matAutocomplete]="lastNameAuto" placeholder="Last name">
        <mat-autocomplete #lastNameAuto="matAutocomplete">
          @for (option of getFilteredOptions(lastNameOptions, form.value['lastName']); track option) {
            <mat-option [value]="option">{{ option }}</mat-option>
          }
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="filter-field">
        <input type="text" matInput formControlName="street" [matAutocomplete]="streetAuto" placeholder="Street">
        <mat-autocomplete #streetAuto="matAutocomplete">
          @for (option of getFilteredOptions(streetOptions, form.value['street']); track option) {
            <mat-option [value]="option">{{ option }}</mat-option>
          }
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="filter-field">
        <input type="text" matInput formControlName="phone" [matAutocomplete]="phoneAuto" placeholder="Phone">
        <mat-autocomplete #phoneAuto="matAutocomplete">
          @for (option of getFilteredOptions(phoneOptions, form.value['phone']); track option) {
            <mat-option [value]="option">{{ option }}</mat-option>
          }
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="filter-field">
        <input type="text" matInput formControlName="city" [matAutocomplete]="cityAuto" placeholder="City">
        <mat-autocomplete #cityAuto="matAutocomplete">
          @for (option of getFilteredOptions(cityOptions, form.value['city']); track option) {
            <mat-option [value]="option">{{ option }}</mat-option>
          }
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="filter-field">
        <input type="text" matInput formControlName="postcode" [matAutocomplete]="postcodeAuto" placeholder="Postcode">
        <mat-autocomplete #postcodeAuto="matAutocomplete">
          @for (option of getFilteredOptions(postcodeOptions, form.value['postcode']); track option) {
            <mat-option [value]="option">{{ option }}</mat-option>
          }
        </mat-autocomplete>
      </mat-form-field>

      <div formArrayName="qualifications">
        @for (q of allQualifications; track $index) {
          <mat-checkbox [formControlName]="$index">
            {{ q.skill }}
          </mat-checkbox>
        }
      </div>
    </form>
  </mat-card-content>
</mat-card>
