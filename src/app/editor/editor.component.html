<!-- src/app/editor/editor.component.html -->
<form [formGroup]="editorForm">

  @if (employee) {
    <mat-card>

      <mat-card-header>
        <mat-card-title>Editor</mat-card-title>
      </mat-card-header>
      <br>
      <mat-card-content>
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input matInput formControlName="firstName" required>

          @if (editorForm.controls['firstName'].invalid) {
            <mat-error>Please enter a name</mat-error>
          }

        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Surname</mat-label>
          <input matInput formControlName="lastName" required>
          @if (editorForm.controls['lastName'].invalid) {
            <mat-error>Please enter a surname</mat-error>
          }
        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <mat-label>Phone number</mat-label>
          <input matInput formControlName="phone" required>
          @if (editorForm.controls['phone'].invalid) {
            <mat-error>Please enter a phone number</mat-error>
          }
        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <mat-label>Street</mat-label>
          <input matInput formControlName="street" required>

          @if (editorForm.controls['street'].invalid) {
            <mat-error>Please enter a street</mat-error>
          }

        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <mat-label>Postcode</mat-label>
          <input matInput formControlName="postcode" required>
          @if (editorForm.controls['postcode'].invalid) {
            <mat-error>Please enter a postcode</mat-error>
          }
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>City</mat-label>
          <input matInput formControlName="city" required>
          @if (editorForm.controls['city'].invalid) {
            <mat-error>Please enter a city</mat-error>
          }
        </mat-form-field>
        <mat-accordion>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <mat-icon>work</mat-icon>
                <span>Skills</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div formArrayName="qualifications">
              @for (qualification of qualifications; track qualification.id) {
                <mat-checkbox [formControlName]="qualifications.indexOf(qualification)">{{ qualification.skill }}</mat-checkbox>
              }
            </div>
          </mat-expansion-panel>
        </mat-accordion>
        <br>
        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="onSave()">
            <mat-icon>save</mat-icon>
            Save
          </button>
          <button mat-raised-button color="warn" (click)="onClear()">
            <mat-icon>cancel</mat-icon>
            Cancel
          </button>
        </mat-card-actions>
      </mat-card-content>
    </mat-card>
  }
</form>
